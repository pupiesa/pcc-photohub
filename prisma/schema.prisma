generator client {
  provider = "prisma-client-js"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "mongodb"
  url      = env("MONGODB_URI")
}

model emailotps {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  email     Json?
  /// Field referred in an index, but found no data to define the type.
  expiresAt Json?
  /// Field referred in an index, but found no data to define the type.
  number    Json?
  /// Field referred in an index, but found no data to define the type.
  used      Json?
  /// Field referred in an index, but found no data to define the type.
  userId    Json?

  @@index([userId], map: "userId_1")
  @@index([email], map: "email_1")
  @@index([used], map: "used_1")
  @@index([number], map: "number_1")
  @@index([expiresAt], map: "emailotp_expiresAt_ttl_0s")
}

model payment_log {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model promo_redemptions {
  id          String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  promo_code  Json?
  /// Field referred in an index, but found no data to define the type.
  user_number Json?

  @@index([promo_code], map: "promo_code_1")
  @@index([user_number], map: "user_number_1")
}

model promocodes {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  v              Int      @map("__v")
  code           String   @unique(map: "code_1")
  createdAt      DateTime @db.Date
  end_at         DateTime @db.Date
  is_active      Boolean
  per_user_limit Int
  start_at       DateTime @db.Date
  type           String
  updatedAt      DateTime @db.Date
  usage_limit    Int
  used_count     Int
  value          Int
}

model user {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  consented      Boolean
  createdAt      DateTime @db.Date
  /// Field referred in an index, but found no data to define the type.
  email          Json?
  emailVerified  Boolean?
  file_address   String[]
  gmail          String?
  nextcloud_link String?
  number         String   @unique(map: "number_1")
  /// Field referred in an index, but found no data to define the type.
  phone          Json?
  pin            String
  updatedAt      DateTime @db.Date

  @@index([phone], map: "phone_1")
  @@index([email], map: "email_1")
}
